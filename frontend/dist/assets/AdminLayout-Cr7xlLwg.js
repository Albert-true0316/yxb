import{d as T,z as H,r as q,k as I,c as f,a as n,b as o,f as d,w as e,e as t,v as c,t as M,q as R,u as m,x as h,o as u,h as w,g as b,s as $,_ as j}from"./index-D0gD-nMH.js";const G={class:"admin-layout"},J={class:"sidebar-header"},K={class:"logo-text"},O={class:"sidebar-nav"},P={class:"sidebar-footer"},Q={class:"main-container"},U={class:"top-bar"},W={class:"top-bar-right"},X={key:0,class:"welcome"},Y={class:"main-content"},Z=T({__name:"AdminLayout",setup(oo){const k=$(),l=H(),a=q(!1);I(async()=>{l.isAuthenticated&&await l.fetchAdmin()});function y(p){p==="logout"&&(l.logout(),k.push("/admin/login"))}return(p,_)=>{const g=t("Trophy"),s=t("el-icon"),C=t("DataAnalysis"),i=t("router-link"),x=t("List"),A=t("Checked"),B=t("HomeFilled"),S=t("Fold"),D=t("Expand"),F=t("el-avatar"),L=t("SwitchButton"),N=t("el-dropdown-item"),V=t("el-dropdown-menu"),z=t("el-dropdown"),E=t("router-view");return u(),f("div",G,[n("aside",{class:M(["sidebar",{collapsed:a.value}])},[n("div",J,[o(s,{class:"logo-icon"},{default:e(()=>[o(g)]),_:1}),d(n("span",K,"管理后台",512),[[c,!a.value]])]),n("nav",O,[o(i,{to:"/admin/dashboard",class:"nav-item"},{default:e(()=>[o(s,null,{default:e(()=>[o(C)]),_:1}),d(n("span",null,"仪表盘",512),[[c,!a.value]])]),_:1}),o(i,{to:"/admin/tasks",class:"nav-item"},{default:e(()=>[o(s,null,{default:e(()=>[o(x)]),_:1}),d(n("span",null,"任务管理",512),[[c,!a.value]])]),_:1}),o(i,{to:"/admin/review",class:"nav-item"},{default:e(()=>[o(s,null,{default:e(()=>[o(A)]),_:1}),d(n("span",null,"审核中心",512),[[c,!a.value]])]),_:1})]),n("div",P,[o(i,{to:"/",class:"nav-item"},{default:e(()=>[o(s,null,{default:e(()=>[o(B)]),_:1}),d(n("span",null,"返回首页",512),[[c,!a.value]])]),_:1})])],2),n("div",Q,[n("header",U,[n("button",{class:"toggle-btn",onClick:_[0]||(_[0]=r=>a.value=!a.value)},[o(s,null,{default:e(()=>[a.value?(u(),w(D,{key:1})):(u(),w(S,{key:0}))]),_:1})]),n("div",W,[m(l).admin?(u(),f("span",X," 欢迎，"+h(m(l).admin.username),1)):R("",!0),o(z,{onCommand:y},{dropdown:e(()=>[o(V,null,{default:e(()=>[o(N,{command:"logout"},{default:e(()=>[o(s,null,{default:e(()=>[o(L)]),_:1}),_[1]||(_[1]=b(" 退出登录 ",-1))]),_:1})]),_:1})]),default:e(()=>[o(F,{size:36},{default:e(()=>{var r,v;return[b(h(((v=(r=m(l).admin)==null?void 0:r.username)==null?void 0:v.charAt(0))||"A"),1)]}),_:1})]),_:1})])]),n("main",Y,[o(E)])])])}}}),to=j(Z,[["__scopeId","data-v-9022b59b"]]);export{to as default};
