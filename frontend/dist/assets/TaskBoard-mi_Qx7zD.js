import{d as R,r as f,j as S,k as z,c as i,a as e,f as H,F as g,n as h,p as L,h as M,q as j,o as n,e as c,s as q,t as k,x as r,b as l,g as C,w as p,_ as E}from"./index-D0gD-nMH.js";import{g as I}from"./task-BMeBlA8s.js";const O={class:"task-board container"},P={class:"filters-wrapper"},A={class:"filters"},G=["onClick"],J={class:"task-grid"},K=["onClick"],Q={class:"card-content"},U={class:"reward-pill"},W={class:"task-title"},X={class:"task-footer"},Y={class:"deadline-info"},Z={class:"action-arrow"},ee=R({__name:"TaskBoard",setup(te){const b=q(),d=f(!1),v=f([]),u=f(-1),w=[{label:"全部",value:-1},{label:"待认领",value:0},{label:"待审核",value:1},{label:"进行中",value:2},{label:"已完成",value:3}],m=S(()=>u.value===-1?v.value:v.value.filter(t=>t.status===u.value));z(async()=>{d.value=!0;try{const t=await I();v.value=t.data||[]}finally{d.value=!1}});function y(t){b.push(`/task/${t}`)}function x(t){return{0:"待认领",1:"待审核",2:"进行中",3:"已完成"}[t]}function T(t){return{0:"st-pending",1:"st-review",2:"st-progress",3:"st-done"}[t]}function B(t){const a=new Date(t),_=new Date;_.setHours(0,0,0,0),a.setHours(0,0,0,0);const o=Math.ceil((a.getTime()-_.getTime())/(1e3*60*60*24));return o<0?"已过期":o===0?"今天截止":`还剩 ${o} 天`}return(t,a)=>{const _=c("Coin"),o=c("el-icon"),D=c("Clock"),N=c("Right"),V=c("el-empty"),$=L("loading");return n(),i("div",O,[a[0]||(a[0]=e("div",{class:"hero-section"},[e("h1",{class:"page-title"},"英雄任务榜"),e("p",{class:"page-subtitle"},"认领任务，赢取荣耀与积分")],-1)),e("div",P,[e("div",A,[(n(),i(g,null,h(w,s=>e("button",{key:s.value,class:k(["filter-pill",{active:u.value===s.value}]),onClick:F=>u.value=s.value},r(s.label),11,G)),64))])]),H((n(),i("div",J,[(n(!0),i(g,null,h(m.value,s=>(n(),i("div",{key:s.id,class:"task-card",onClick:F=>y(s.id)},[e("div",{class:k(["card-status-badge",T(s.status)])},r(x(s.status)),3),e("div",Q,[e("div",U,[l(o,null,{default:p(()=>[l(_)]),_:1}),C(" "+r(s.reward)+" 积分 ",1)]),e("h3",W,r(s.title),1),e("div",X,[e("div",Y,[l(o,null,{default:p(()=>[l(D)]),_:1}),C(" "+r(B(s.deadline)),1)]),e("div",Z,[l(o,null,{default:p(()=>[l(N)]),_:1})])])])],8,K))),128)),!d.value&&m.value.length===0?(n(),M(V,{key:0,description:"暂无任务","image-size":"150"})):j("",!0)])),[[$,d.value]])])}}}),oe=E(ee,[["__scopeId","data-v-55eb950d"]]);export{oe as default};
