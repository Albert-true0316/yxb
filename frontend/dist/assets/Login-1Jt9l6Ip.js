import{d as h,z as B,r as c,A as C,c as A,a as t,b as o,w as a,e as n,B as E,o as L,u as f,C as N,D as R,g as i,s as S,E as T,_ as q}from"./index-D0gD-nMH.js";const z={class:"login-page"},M={class:"login-container"},U={class:"brand-area"},D={class:"login-card"},I={class:"footer-links"},j=h({__name:"Login",setup(F){const _=S(),g=B(),d=c(),r=c(!1),s=C({username:"",password:""}),v={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]};async function w(){var e;if(await((e=d.value)==null?void 0:e.validate().catch(()=>!1))){r.value=!0;try{await g.loginAction(s.username,s.password),T.success("登录成功"),_.push("/admin/dashboard")}catch{}finally{r.value=!1}}}return(b,e)=>{const x=n("Trophy"),y=n("el-icon"),u=n("el-input"),p=n("el-form-item"),V=n("el-button"),k=n("el-form"),m=n("router-link");return L(),A("div",z,[t("div",M,[t("div",U,[o(y,{class:"brand-icon"},{default:a(()=>[o(x)]),_:1}),e[2]||(e[2]=t("h2",null,"管理后台",-1))]),t("div",D,[e[6]||(e[6]=t("h1",{class:"welcome-text"},"欢迎回来",-1)),e[7]||(e[7]=t("p",{class:"subtitle"},"请输入您的账号密码登录管理后台",-1)),o(k,{ref_key:"formRef",ref:d,model:s,rules:v,class:"login-form",onSubmit:E(w,["prevent"]),size:"large"},{default:a(()=>[o(p,{prop:"username"},{default:a(()=>[o(u,{modelValue:s.username,"onUpdate:modelValue":e[0]||(e[0]=l=>s.username=l),placeholder:"用户名","prefix-icon":f(N)},null,8,["modelValue","prefix-icon"])]),_:1}),o(p,{prop:"password"},{default:a(()=>[o(u,{modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=l=>s.password=l),type:"password",placeholder:"密码","prefix-icon":f(R),"show-password":""},null,8,["modelValue","prefix-icon"])]),_:1}),o(V,{type:"primary",loading:r.value,"native-type":"submit",class:"full-btn"},{default:a(()=>[...e[3]||(e[3]=[i(" 登录 ",-1)])]),_:1},8,["loading"])]),_:1},8,["model"]),t("div",I,[o(m,{to:"/"},{default:a(()=>[...e[4]||(e[4]=[i("← 返回首页",-1)])]),_:1}),o(m,{to:"/admin/register"},{default:a(()=>[...e[5]||(e[5]=[i("立即注册",-1)])]),_:1})])])])])}}}),H=q(j,[["__scopeId","data-v-4f290b9b"]]);export{H as default};
