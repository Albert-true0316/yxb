import{d as P,z as U,r as _,A as z,c as R,a,b as s,w as o,e as t,B as A,o as C,g as m,E as h,s as q,_ as B}from"./index-D0gD-nMH.js";const E={class:"register-page"},L={class:"register-card"},M={class:"register-header"},N={class:"register-footer"},S={class:"back-home"},F=P({__name:"Register",setup(I){const w=q(),v=U(),p=_(),u=_(!1),r=z({username:"",email:"",password:"",confirmPassword:""}),b={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:50,message:"用户名长度在3-50之间",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码至少6位",trigger:"blur"}],confirmPassword:[{required:!0,message:"请确认密码",trigger:"blur"},{validator:(f,e,i)=>{e!==r.password?i(new Error("两次输入的密码不一致")):i()},trigger:"blur"}]};async function V(){var e;if(await((e=p.value)==null?void 0:e.validate().catch(()=>!1))){u.value=!0;try{await v.registerAction(r.username,r.password,r.email),h.success("注册成功"),w.push("/admin/dashboard")}catch{}finally{u.value=!1}}}return(f,e)=>{const i=t("UserFilled"),g=t("el-icon"),d=t("el-input"),n=t("el-form-item"),x=t("el-button"),y=t("el-form"),c=t("router-link"),k=t("ArrowLeft");return C(),R("div",E,[a("div",L,[a("div",M,[s(g,{class:"register-icon"},{default:o(()=>[s(i)]),_:1}),e[4]||(e[4]=a("h1",null,"管理员注册",-1)),e[5]||(e[5]=a("p",null,"创建您的管理员账号",-1))]),s(y,{ref_key:"formRef",ref:p,model:r,rules:b,class:"register-form",onSubmit:A(V,["prevent"])},{default:o(()=>[s(n,{prop:"username"},{default:o(()=>[s(d,{modelValue:r.username,"onUpdate:modelValue":e[0]||(e[0]=l=>r.username=l),placeholder:"用户名（3-50字符）",size:"large","prefix-icon":"User"},null,8,["modelValue"])]),_:1}),s(n,{prop:"email"},{default:o(()=>[s(d,{modelValue:r.email,"onUpdate:modelValue":e[1]||(e[1]=l=>r.email=l),placeholder:"邮箱",size:"large","prefix-icon":"Message"},null,8,["modelValue"])]),_:1}),s(n,{prop:"password"},{default:o(()=>[s(d,{modelValue:r.password,"onUpdate:modelValue":e[2]||(e[2]=l=>r.password=l),type:"password",placeholder:"密码（至少6位）",size:"large","prefix-icon":"Lock","show-password":""},null,8,["modelValue"])]),_:1}),s(n,{prop:"confirmPassword"},{default:o(()=>[s(d,{modelValue:r.confirmPassword,"onUpdate:modelValue":e[3]||(e[3]=l=>r.confirmPassword=l),type:"password",placeholder:"确认密码",size:"large","prefix-icon":"Lock","show-password":""},null,8,["modelValue"])]),_:1}),s(n,null,{default:o(()=>[s(x,{type:"primary",size:"large",loading:u.value,"native-type":"submit",class:"register-btn"},{default:o(()=>[...e[6]||(e[6]=[m(" 注册 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),a("div",N,[e[8]||(e[8]=a("span",null,"已有账号？",-1)),s(c,{to:"/admin/login"},{default:o(()=>[...e[7]||(e[7]=[m("立即登录",-1)])]),_:1})]),a("div",S,[s(c,{to:"/"},{default:o(()=>[s(g,null,{default:o(()=>[s(k)]),_:1}),e[9]||(e[9]=m(" 返回首页 ",-1))]),_:1})])])])}}}),D=B(F,[["__scopeId","data-v-8d846592"]]);export{D as default};
